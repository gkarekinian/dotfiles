# changing directory to code project
function c { cd ~/code/$1; }

# misc
alias reload='. ~/.bash_profile'

# copy opscode cert to current dir's .chef
function chefcppem { cp ~/.chef/gkarekinian.pem .chef/; }

alias gb="git branch"
alias gba="git branch -a"
alias gc="git commit -v"
alias gd="git diff | vimdiff -"
alias gl="git pull"
alias gp="git push"
alias gst="git status"

alias gh="github"

alias pg_start="pg_ctl -D /usr/local/var/postgres -l /usr/local/var/postgres/server.log start"
alias pg_stop="pg_ctl -D /usr/local/var/postgres stop -s -m fast"

alias ifconfig.me="curl ifconfig.me"

# hub, see http://defunkt.io/hub/
if [ "$(which hub)" != '' ]; then
  alias git=hub 
fi

alias bex="bundle exec"

# Import vim plugin using Pathogen
function importvimplugin {
  E_ARG_ERR=65

  if [ -z "$1" ]
  then
    echo "Usage: importvimplugin GIT_URL"
    return $E_ARG_ERR
  fi  

  url=$1
  cleaned_up_url=`echo $url | sed -e s/\.git$//g`
  destination=`basename $cleaned_up_url | sed 's/^vim\-//g' | sed 's/\.vim$//g'`

  cd ~/code/gkarekinian/dotfiles
  git submodule add $1 vim/bundle/$destination
  cd -
}
